<!doctype html>
<html ng-app='tubedjApp'>
	
	<head lang='en'>
		<meta name='apple-mobile-web-app-capable' content='yes' />
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
		<meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1'>
		<title>tubedj</title>
		<link rel='apple-touch-icon' href='img/apple-touch-icon.png' />
        
		<link rel='stylesheet' href='css/style.css'>
		<link rel='stylesheet' href='css/font-awesome.css'/>
		
        <script src='js/lib/modernizr.js'></script>
        <script>
			/* iOS
			 * There may be times when we need a quick way to reference whether iOS is in play or not.
			 * While a primative means, will be helpful for that.
			 */
			Modernizr.addTest('ipad', function () {
			  return !!navigator.userAgent.match(/iPad/i);
			});
			 
			Modernizr.addTest('iphone', function () {
			  return !!navigator.userAgent.match(/iPhone/i);
			});
			 
			Modernizr.addTest('ipod', function () {
			  return !!navigator.userAgent.match(/iPod/i);
			});
			 
			Modernizr.addTest('appleios', function () {
			  return (Modernizr.ipad || Modernizr.ipod || Modernizr.iphone);
			});
		</script>
		<script src="/socket.io/socket.io.js"></script>
		<script src='js/lib/underscore.js'></script>
		<script src='js/lib/jquery.js'></script>
		<script src='js/lib/angular.js'></script>
		<script src='js/lib/angular-resource.js'></script>
		<script src='js/lib/restangular.js'></script>

		<script src='js/lib/jquery.timeago.js'></script>
		
		<script src='js/app.js'></script>
		<script src='js/app.factory.global-state.js'></script>
		<script src='js/app.factory.socket.js'></script>
        <script src='js/app.controller.main.js'></script>
        <script src='js/app.controller.room.js'></script>
        <!--
        <script src='js/app.controller.search.js'></script>
        <script src='js/app.controller.options.js'></script>
        <script src='js/app.controller.playlist.js'></script>
        
        <script src='js/app.factory.youtube.js'></script>
		<script src='js/app.service.youtube.js'></script>
        
        <script src='js/app.directive.ngtap.js'></script>
        <script src='js/app.directive.timeago.js'></script>
        <script src='js/app.directive.toggleOption.js'></script>
        <script src='js/app.directive.inlineEdit.js'></script>
        <script src='js/app.directive.clickState.js'></script>
        <script src='js/app.directive.revealable.js'></script>
        -->
	</head>
	
	<body ng-controller='MainController'>
		<!--<div ng-view></div>-->
		<div ng-controller='RoomController'>
			<div>
				<input type='button' ng-click='createUser();' value='Create user'/>
				<input type='button' ng-click='create();' value='Create room'/>
				<input type='button' ng-click='joinHelper();' value='Join room'/>
				<input type='button' ng-click='leave();' value='leave room'/>
			</div>
			<div style='width: 30%; padding: 10px; float: left;'>
				<input type='text' id='id' ng-model='id'/>
				<br/>
				<span>Playlist</span><input type='button' ng-click='refreshPlaylist();' value='Refresh'/>
				<ol style='list-style:none;'>
					<li ng-repeat='item in playlist' style='background-color:#999; padding: 4px; border: 1px solid #CCC;'>
						<span>{{item.uid}}</span>
						<span>{{item.id}}</span>
						<input type='Button' ng-click='removeFromPlaylist("{{item.uid}}");' value='x'/>
					</li>
				</ol>

				<span>Users</span>
				<ul style='list-style:none;'>
					<li style='background-color:#999; padding: 4px; border: 1px solid #CCC;'>
						<span>{{GlobalState.user.id}}</span>
					</li>
					<li ng-repeat='user in users' style='background-color:#999; padding: 4px; border: 1px solid #CCC;'>
						
						<span>{{user.name}}</span>
						<input type='Button' ng-click='blockUser("{{user.id}}");' value='Block'/>
					</li>
				</ul>
			</div>

			<div style='width: 30%; padding: 10px; float: left;'>
				<h2>Add to playlist</h2>
				<span>id</span><input type='text' id='playlist-id' ng-model='newPlaylistId'/>
				<span>title</span><input type='text' id='playlist-title' ng-model='newPlaylistTitle'/>
				<span>artist</span><input type='text' id='playlist-artist' ng-model='newPaylistArtist'/>
				<span>album</span><input type='text' id='playlist-album' ng-model='newPlaylistAlbum'/>
				<span>length</span><input type='text' id='playlist-length' ng-model='newPlaylistLength'/>
				<input type='button' ng-click='addSongToPlaylistHelper()' value='Add'/>
			</div>
		</div>
	</body>
</html>
